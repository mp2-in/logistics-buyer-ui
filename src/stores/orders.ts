import { create } from 'zustand'
import { produce } from 'immer'
import { Api, GooglePlacesApi } from '@lib/utils'
import {Order, PickupStore, Place} from '@lib/interfaces'

interface Attributes {
    orders: Order[],
    activity: { [k: string]: boolean },
    pickupStores: PickupStore []
}

interface State extends Attributes {
    getOrders: (token: string) => void,
    getPickupList: (token: string) => void,
    googlePlacesApi: (searchText: string, callback: (data: Place[]) => void) => void
}

const initialState: Attributes = { orders: [], activity: {}, pickupStores: [] };

export const useOrdersStore = create<State>()((set) => ({
    ...initialState,
    getOrders: async (token: string) => {
        set(produce((state: State) => {
            state.activity.getOrders = false
        }))
        Api('/webui/orders', { method: 'post', headers: { 'Content-Type': 'application/json', token }, data: {} })
            .then(res => {
                set(produce((state: State) => {
                    state.orders = res
                    state.activity.getOrders = false
                }))
            })
            .catch(() => {
                set(produce((state: State) => {
                    state.activity.getOrders = false
                    //state.orders = [{'id': 'mp2i_f63psspd35im', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_lbnmjhg4avwh', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_7xon7gqpwmai', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_rtvm5brzng3j', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_lgjefibjlafn_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 10:01:33', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_3rs3koqrrdpd', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_wkn556k2qgqi_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 09:57:29', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_hrd7bjwblxkj', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_h7g2mnhdhwak_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 09:57:08', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_smqmp6vg2exc', 'client_order_id': 'order_12345678f', 'state': 'UnFulfilled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_qsgsf6lp5rrw', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_y37ugorfxqvh', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_jn6q4thgzhuf', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'flash-api.staging.shadowfax.in', 'name': 'SFX', 'item_id': 'SFXImmediateDelivery', 'network_order_id': 'ordmp2i_f2weidbm2c5d_1234'}, 'price': 0.82, 'distance': 0.159093, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 04:24:12', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_h7yoydtry5kl', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_tx5o2mlmidyn', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_n5vhsq22ynos', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'wits-ref-logistics-app.thewitslab.com', 'name': 'f306ed85-6916-456e-9571-679a5b5f8737', 'item_id': 'Standard', 'network_order_id': 'ordmp2i_v5gtk2ea7qyy_1234'}, 'price': 84.0, 'distance': 45.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:38:29', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_l3ir3lxkryoj', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_43je23g3p37g', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_wzoqjazhdk6g', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_vloga7ut3aua', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_jqp77toob5v2_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:35:34', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_3czxgjke4xch', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_nodcxws5xyjk_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:34:17', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_hvpuehg24dd2', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_cy2pne7wzn5g_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:32:50', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_nfm52kullmtw', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_awvmb2iodmvg_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:31:12', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}]
                    //state.orders = [{'id': 'mp2i_f63psspd35im', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_lbnmjhg4avwh', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_7xon7gqpwmai', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_rtvm5brzng3j', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_lgjefibjlafn_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 10:01:33', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_3rs3koqrrdpd', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_wkn556k2qgqi_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 09:57:29', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_hrd7bjwblxkj', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_h7g2mnhdhwak_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 09:57:08', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_smqmp6vg2exc', 'client_order_id': 'order_12345678f', 'state': 'UnFulfilled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_qsgsf6lp5rrw', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_y37ugorfxqvh', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_jn6q4thgzhuf', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'flash-api.staging.shadowfax.in', 'name': 'SFX', 'item_id': 'SFXImmediateDelivery', 'network_order_id': 'ordmp2i_f2weidbm2c5d_1234'}, 'price': 0.82, 'distance': 0.159093, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-25 04:24:12', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_h7yoydtry5kl', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_tx5o2mlmidyn', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_n5vhsq22ynos', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'wits-ref-logistics-app.thewitslab.com', 'name': 'f306ed85-6916-456e-9571-679a5b5f8737', 'item_id': 'Standard', 'network_order_id': 'ordmp2i_v5gtk2ea7qyy_1234'}, 'price': 84.0, 'distance': 45.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:38:29', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_l3ir3lxkryoj', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_43je23g3p37g', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_wzoqjazhdk6g', 'client_order_id': 'order_12345678f', 'state': 'Cancelled', 'lsp': {'id': '', 'name': '', 'item_id': '', 'network_order_id': ''}, 'price': 0.0, 'distance': 0.0, 'rider': {'name': '', 'phone': ''}, 'created_at': '', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_vloga7ut3aua', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_jqp77toob5v2_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:35:34', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_3czxgjke4xch', 'client_order_id': 'order_12345678f', 'state': 'Pending', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_nodcxws5xyjk_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:34:17', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_hvpuehg24dd2', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_cy2pne7wzn5g_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:32:50', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}, {'id': 'mp2i_nfm52kullmtw', 'client_order_id': 'order_12345678f', 'state': 'Searching-for-Agent', 'lsp': {'id': 'preprod.logistics-seller.mp2.in', 'name': 'MP2', 'item_id': 'mp2_immediate', 'network_order_id': 'ordmp2i_awvmb2iodmvg_1234'}, 'price': 21.19, 'distance': 0.19, 'rider': {'name': '', 'phone': ''}, 'created_at': '2024-06-24 16:31:12', 'assigned_at': '', 'pickedup_at': '', 'delivered_at': '', 'cancelled_at': '', 'rto_initiated_at': '', 'rto_delivered_at': '', 'delivery_proof': '', 'cancellation': {'reason_id': '', 'cancelled_by': ''}, 'note1': '', 'note2': ''}]
                }))
            })
    },
    getPickupList: async (token: string) => {
        set(produce((state: State) => {
            state.activity.getPickupList = false
        }))
        Api('/webui/pickup/list', { method: 'post', headers: { 'Content-Type': 'application/json', token }, data: {} })
            .then(res => {
                set(produce((state: State) => {
                    state.activity.getPickupList = false
                    state.pickupStores = res
                }))
            })
            .catch(() => {
                set(produce((state: State) => {
                    state.activity.getPickupList = false
                }))
            })
    },
    googlePlacesApi: async (searchText, callback) => {
        GooglePlacesApi(searchText)
            .then(res => {
                console.log(res.places)
                callback(res.places)
            })
            .catch(() => {
                set(produce((state: State) => {
                    state.activity.getOrders = false
                }))
            })
    }
}))
